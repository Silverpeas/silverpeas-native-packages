<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright (C) 2000 - 2015 Silverpeas

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU Affero General Public License as
 published by the Free Software Foundation, either version 3 of the
 License, or (at your option) any later version.

 As a special exception to the terms and conditions of version 3.0 of
 the GPL, you may redistribute this Program in connection with Free/Libre
 Open Source Software ("FLOSS") applications as described in Silverpeas's
 FLOSS exception.  You should have recieved a copy of the text describing
 the FLOSS exception, and it is also available here:
 "http://www.silverpeas.org/docs/core/legal/floss_exception.html"

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU Affero General Public License for more details.

 You should have received a copy of the GNU Affero General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>. -->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Emmanuel Hugonnet" />
    <meta name="author" content="Miguel Moquillon" />
    <title>GNU/Linux Native Packages of Silverpeas</title>
    <link rel="stylesheet" href="http://www.silverpeas.org/docs/core/css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="http://www.silverpeas.org/docs/core/css/site.css" />
    <link rel="stylesheet" href="http://www.silverpeas.org/docs/core/css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>
    <script type="text/javascript">var gaJsHost = (("https:" === document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">try {
        var pageTracker = _gat._getTracker("UA-2015926-3");
        pageTracker._trackPageview();
      } catch (err) {
      }
    </script>
  </head>
  <body class="topBarEnabled">

    <a href="http://github.com/Silverpeas">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
           src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"
           alt="Fork me on GitHub"/>
    </a>

    <div id="topbar" class="navbar navbar-fixed-top navbar-inverse">
    </div>

    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left">
          <a href="http://www.silverpeas.org/" id="bannerLeft">
            <img src="http://www.silverpeas.org/docs/core/images/logo-silverpeas.png"  alt="Silverpeas"/>
          </a>
        </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
          <li class="">
            <a href="http://www.silverpeas.org" class="externalLink" title="Silverpeas">Silverpeas</a>
          </li>
          <li class="divider ">/</li>
          <li class="">GNU/Linux Native Package of Silverpeas</li>
        </ul>
      </div>

      <div id="bodyColumn">
        <div class="section">
          <h2>GNU/Linux Native Packages of Silverpeas<a name="Silverpeas_native_packages"></a></h2>
          <p>We offer you packaging of Silverpeas in both for <a href="#Debian-based_Linux_distributions">Debian distributions</a>, and for some <a href="#RPM-based_Linux_distributions">RPM-based server distributions (RHEL and CentOS)</a>.</p>
          <p>Those packages install standalone version of
            <a class="externalLink" href="http://www.silverpeas.org">Silverpeas</a> into <code>/opt/silverpeas</code> with the data (your data) into <code>/var/data/silverpeas</code>. They create also both a user and a group dedicated to the execution of silverpeas in a non-privileged role: <code>silverpeas</code>. So please, ensure there is not already a user and a group with this identifier. Finally they provide a service starting script, configured to be launched at boot time. It can be launched by hand as:
          </p><div class="source"><pre class="prettyprint">
/etc/init.d/silverpeas start</pre></div>
          <p>or: </p><div class="source"><pre class="prettyprint">
service silverpeas start</pre></div>
          <p>the starting of Silverpeas can take several minutes, depending on the resources of your machine. Once Silverpeas started, you can access it at <span>http://&lt;you server&gt;:8000/silverpeas</span>.</p>
          <p>The installation doesn't start automatically Silverpeas, leaving you before the opportunity to make a custom configuration.</code></p>
          <p>The log of Silverpeas is in <code>/var/log/silverpeas.log</code>.</p>

          <div class="section">
            <h3>Warning</h3>
          <p>When updating Silverpeas, we recommand strongly to stop it and to backup both the data (<code>/var/data/silverpeas</code>) and the database silverpeas before any update, mainly when updating to a main version (evolutive or major version).</p>
          </div>

          <div class="section">
            <h3>Dependency on PostgreSQL and on OpenOffice.org/LibreOffice</h3>
            <p>Since Silverpeas depends on <b>PostgreSQL</b> and on <b>OpenOffice.org/LibreOffice</b>, the package installation will also install the PostgreSQL database system and either OpenOffice.org or LibreOffice office suite on your machine.</p>
            <p>If not already done, it will setup PostgreSQL for Silverpeas. In the case the PostgreSQL setting for Silverpeas failed, you can do it manually by following the steps as described in the <a href="http://wiki.postgresql.org/wiki/Detailed_installation_guides" >documentation here</a>.</p>
            <p>The package installation will install a service starting script for OpenOffice.org/LibreOffice, configured to be launched at boot time. It can be launched by hand as:</p>
            <div class="source"><pre class="prettyprint">
/etc/init.d/openoffice start</pre>
            </div>
            <p>or: </p>
            <div class="source"><pre class="prettyprint">
service openoffice start</pre>
            </div>
          </div>

          <div class="section">
            <h3>Some recommendations on tiers-party tools</h3>
            <p>Since version 5.15, Silverpeas <em>requires</em> the ImageMagick software suite. It is an image handling solution that is used by Silverpeas for both document content previewing and image resizing at the fly. Without it, you won't be have any image rendering in Silverpeas.</p>
            <p>Since version 5.11, Silverpeas <em>recommends strongly</em> the Ghostscript and SWFTools tools. They offer to Silverpeas the feature to preview and to visualize the document content (whatever its format). They aren't required to run and to use Silverpeas, they are just recommendation as they enhance the user experience with Silverpeas.</p>
            <p>Unfortunately, the SWFTools tools suite is not provided by any official repository or, when provided, it is not complete (for example pdf2swf is missing). So, you'll find instructions how to install it for your GNU/Linux distribution in the corresponding section below.</p>
          </div>

          <div class="section">
            <h3>Java</h3>
            <p>Silverpeas is based upon the JBoss AS 6.1 that requires Java 1.6. As we have experienced some problems with OpenJDK 6, we recommend
               strongly the distribution <a href="http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-javase6-419409.html">Oracle Java 6</a>.</p>
          </div>
        </div>

        <div class="section">
          <h2>Debian-based GNU/Linux distributions<a name="Debian-based_Linux_distributions"></a></h2>

          <div class="section">
            <h3>Recommendations<a name="Debian_recommendations"></a></h3>
            <div class="section">
              <h4>Java 1.6<a name="DEB_Requirements_Java_1.6"></a></h4>
              <p>We recommend Java from Oracle. The team <a href="https://launchpad.net/~webupd8team/+archive/java">WebUpd8</a> provides debian package for installing it in Debian-based distributions.</p>
              <p>To install Oracle Java 6 in <strong>Ubuntu-based</strong> distributions, first add the repository of the <i>WebUpd8</i> team:</p>
              <div class"source"><pre class="prettyprint">sudo add-apt-repository ppa:webupd8team/java</pre></div>
              <p>To add this repository in <strong>Debian-based</strong> distributions, edit the /etc/apt/sources.list file or creates the file <code>/etc/apt/sources.list.d/webupd8team.list</code> and add the following lines:</p>
              <div class"source"><pre class="prettyprint">
deb http://ppa.launchpad.net/webupd8team/java/ubuntu vivid main
deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu vivid main</pre></div>
              <p>then import the PGP key with which the packages in this repository are signed:</p>
              <div class"source"><pre class="prettyprint">
gpg --keyserver keyserver.ubuntu.com --recv-keys EEA14886
gpg -a --export EEA14886 | sudo apt-key add -</pre></div>
              <p>Once the WebUpd8 team repository added, install Oracle Java 6:</p>
              <div class"source"><pre class="prettyprint">sudo apt-get update
sudo apt-get install oracle-java6-installer oracle-java6-set-default</pre></div>
            </div>
            <div class="section">
              <h4>SWFTools<a name="DEB_Requirements_SWFTools"></a></h4>
                <p><b>Take caution</b> with the official SWFTools package provided since Ubuntu 12.10 and Debian Wheezy because it's not complete; for example, it doesn't provide the pdf2swf tool used by Silverpeas. Instead, SWFTools can be found in the non-official <a href="https://launchpad.net/~guilhem-fr">Launchpad repository of Guilhem Lettron</a>. To add this repository, edit the <code>/etc/apt/sources.list</code> file or creates the file <code>/etc/apt/sources.list.d/swftools.list</code> and add the following lines:</p>
                <div class="source"><pre class="prettyprint">
deb http://ppa.launchpad.net/guilhem-fr/swftools/ubuntu quantal main
deb-src http://ppa.launchpad.net/guilhem-fr/swftools/ubuntu quantal main</pre></div>
                <p>then import the PGP key with which the packages in this repository are signed:</p>
                <div class="source"><pre class="prettyprint">
gpg --keyserver pgpkeys.mit.edu --recv-key E429E19D97F87FBF
gpg -a --export E429E19D97F87FBF | sudo apt-key add -</pre></div>
              <p>For Ubuntu &ge; 12.10 and for Debian Wheezey, you have to indicate to APT to prefere the SWFTools package from the Guilhem APT repository instead of the official one. To do this, add a file <code>swftools</code> in the directory <code>/etc/apt/preferences.d</code> with the following lines:</p>
              <div class="source"><pre class="prettyprint">
Package: swftools
Pin: origin ppa.launchpad.net
Pin-Priority: 610

Package: swftools
Pin: origin archive.ubuntu.com
Pin-Priority: 600
              </pre></div>
              <p>replace the repository URL <code>archive.ubuntu.com</code> by the one defined in your <code>/etc/apt/sources.list</code> for the <code>universe</code> repository in Ubuntu and by the one for the <code>main</code> repository in Debian.</p>
              <p>Now, you are ready to install the recommended packages:</p>
              <div class="source"><pre class="prettyprint">sudo apt-get update
sudo apt-get install imagemagick ghostscript swftools</pre></div>
            </div>
          </div>

          <div class="section">
            <h3>The APT repositories<a name="APT"></a></h3>
            <p>We provide an APT repository for each evolutive version of Silverpeas from which you can install and update Silverpeas: you can then find a repository for the versions 5.13, another one for the version 5.14, and so on.</p>
            <p>By providing a different APT repository for each main version of Silverpeas, the automatic updates of Silverpeas will concern only the minor releases (bug fixes) and not the main versions;
               this will leave you the control of the upgrade of Silverpeas to a new evolutive version or to a new major version. To upgrade to a new main version, just replace the current APT repository with the one for the main version,
               then update your local package index and finally upgrade your system (here upgrade to the new evolutive version 5.14):</p>
            <div class="source"><pre class="prettyprint linenums">
sudo service silverpeas stop
sudo wget -O /etc/apt.sources.list.d/silverpeas.list http://www.silverpeas.org/repo/debian/silverpeas-5.14.list
sudo apt-get update
sudo apt-get upgrade</pre></div>
            <p>The available packages were tested on Debian Squeeze (6.x) and on Debian Wheezy (7.x), on Ubuntu 12.04 LTS server and on the latest version of Ubuntu Server. Nevertheless, and unlike the RPM-based
              distributions, as Debian-based distributions are all built upon Debian and use the same base packages repositories, we expect the Silverpeas packages can be also installed on all Debian-based distributions.</p>
	    <p>To install Silverpeas, first choose the main version that you wish to use and then add the corresponding repository. For example, with the version 5.14:</p>
            <div class="source"><pre class="prettyprint linenums">sudo wget -O /etc/apt.sources.list.d/silverpeas.list http://www.silverpeas.org/repo/debian/silverpeas-5.14.list</pre></div>
            <p>or add the following entry in your <code>/etc/apt/sources.list</code> file: </p><div class="source"><pre class="prettyprint linenums">deb [arch=all] http://www.silverpeas.org/repo/debian 5.14 main</pre></div>
            <p>Update your local package index and install Silverpeas:
            </p>
            <div class="source"><pre class="prettyprint">
sudo apt-get update
sudo apt-get install silverpeas</pre></div>
          </div>
        </div>

        <div class="section">
          <h2>RPM-based GNU/Linux Server distributions: RedHat and CentOS<a name="RPM-based_Linux_distributions"></a></h2>

          <div class="section">
            <h3>Requirements<a name="RPM_Requirements"></a></h3>

            <div class="section">
              <h4>Java 1.6<a name="RPM_Requirements_Java_1.6"></a></h4>
              <p>Silverpeas requires the latest Java 1.6.0 to run; it doesn't support yet Java 1.7.0. As in recent RPM-based GNU/Linux distribution, it is no longer provided, it is then no more defined as a requirement in the Silverpeas RPM. Thus, you have to download it from the <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk6u35-downloads-1836443.html">Oracle website</a> and manually install it on your system. Once done, check the output of the command:
                <div class="source"><pre class="prettyprint">java -version</pre></div>
                If the current version isn't of type 1.6.0, then the java alternative wasn't set by the java installation and you have to do it also manually:
                <div class="source"><pre class="prettyprint">
sudo alternatives --install /usr/bin/java java /usr/java/default/jre/bin/java 20000
sudo alternatives --install /usr/bin/jar jar /usr/java/default/bin/jar 20000
sudo alternatives --install /usr/bin/javac javac /usr/java/default/bin/javac 20000
sudo alternatives --install /usr/bin/javaws javaws /usr/java/default/jre/bin/javaws 20000
sudo alternatives --set java /usr/java/default/jre/bin/java
sudo alternatives --set javaws /usr/java/default/jre/bin/javaws
sudo alternatives --set javac /usr/java/default/bin/javac
sudo alternatives --set jar /usr/java/default/bin/jar
                </div>
              <p>where <code>default</code> is a symlink to the installation of the Oracle Java into <code>/user/java</code> (ensure the symlink refers a version 6 of Java).
            </div>
            <div class="section">
              <h4>SWFTools<a name="RPM_Requirements_SWFTools"></a></h4>
              <p>The packages of the ImageMagick, Ghostscript and SWFTools programs are defined as a requirement in the Silverpeas package. Unfortunately SWFTools isn't provided by the official repositories of both CentOS and RHEL. For CentOS and RHEL, as there is no tiers-party Yum repository providing them, we make them available in our own one (you can find them also in <a href="http://pkgs.repoforge.org/swftools/">RPM Repo Forge</a>).</p>
              </div>
            </div>
          </div>

          <div class="section">
            <h3>The YUM repositories<a name="YUM"></a></h3>
            <p>The RHEL and CentOs distributions, since version 5.x, uses the YUM installer to install and update the RPM packages with their dependencies from remote repositories. We provide a YUM repository
            with each main version of Silverpeas for each major version of RHEL/CentOS: currently we provide a YUM repository for RHEL/CentOS 5 and for another one for RHEL/CentOS 6.</p>
            <p>Each main version of Silverpeas (evolutive and major versions) are available in these repositories with a different package name as <code>silverpeas-MAIN_VERSION</code>; for example <code>silverpeas-5.14</code> for Silverpeas 5.14.
            By defining a package name different for each main version of Silverpeas, the automatic updates of Silverpeas will concern only the minor releases (bug fixes) related to the installed main version;
            this will leave you the control of the upgrade of Silverpeas to a new evolutive version or to a new major version. To upgrade to a new main version,
            first backup the data (<code>/var/data/silverpeas/</code>) as well the database silverpeas, then remove the previous Silverpeas installation, install the package relative to the new main version, restore both the data and the database, customize if needed the Silverpeas configuration, then run the settings script:</p>
          <div class="source"><pre class="prettyprint">
cd /opt/silverpeas/bin
./SilverpeasSettings.sh
./dbBuilder.sh</pre></div>
          </div>

          <div class="section">
            <h3>RHEL 5.10 and CentOS 5.10<a name="RHEL_5"></a></h3>
            <p>Add repository: </p><div class="source"><pre class="prettyprint linenums">sudo wget -O /etc/yum.repos.d/silverpeas.repo http://www.silverpeas.org/repo/rpm/rhel/5.x/silverpeas.repo
sudo yum makecache</pre></div>
            <p>Install Silverpeas, for example Silverpeas 5.14:
            </p><div class="source"><pre class="prettyprint">yum install silverpeas-5.14</pre></div>
          </div>
          <div class="section">
            <h3>RHEL 6.5 and CentOS 6.5<a name="RHEL_6"></a></h3>
            <p>Add repository: </p><div class="source"><pre class="prettyprint linenums">sudo wget -O /etc/yum.repos.d/silverpeas.repo http://www.silverpeas.org/repo/rpm/rhel/6.x/silverpeas.repo</pre></div>
            <p>Install Silverpeas, for example Silverpeas 5.14:
            </p><div class="source"><pre class="prettyprint">yum install silverpeas-5.14</pre></div>
          </div>
        </div>
      </div>
    </div>

    <hr/>

    <footer>
      <div class="container">
        <div class="row span12">Copyright &copy;                    2014
          <a href="http://www.silverpeas.com">Silverpeas</a>.
          All Rights Reserved.
        </div>
      </div>
    </footer>
  </body>
</html>
